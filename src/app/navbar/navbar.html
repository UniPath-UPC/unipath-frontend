<nav class="navbar">
  <div class="navbar-left">
    <a
      href="/home"
      class="d-flex text-decoration-none align-items-center flex-direction-row"
    >
      <img
        src="https://i.postimg.cc/7YgjBcKP/logo-sf.png"
        alt="Logo UniPath"
        class="logo"
      />
      <h3>Uni<span class="title-accent">Path</span></h3>
    </a>
  </div>

  <div class="navbar-right">
    <ul class="nav-links">
      <li><a href="#">¿Quienes Somos?</a></li>
      <li><a href="#">¿Cómo funciona?</a></li>
      <li><a href="/inicio-form" class="survey-link">Iniciar Encuesta</a></li>
    </ul>
    <div
      class="profile-icon"
      data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasPerfil"
      role="button"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        fill="currentColor"
        class="bi bi-person-circle"
        viewBox="0 0 16 16"
      >
        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
        <path
          fill-rule="evenodd"
          d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"
        />
      </svg>
    </div>
  </div>
</nav>

<!-- Offcanvas Perfil -->
<div
  class="offcanvas offcanvas-start"
  tabindex="-1"
  id="offcanvasPerfil"
  aria-labelledby="offcanvasPerfilLabel"
>
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasPerfilLabel">Cuenta UniPath</h5>
    <button
      type="button"
      class="btn-close text-reset"
      data-bs-dismiss="offcanvas"
      aria-label="Cerrar"
    ></button>
  </div>
  <div class="offcanvas-body d-flex flex-column align-items-center">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="80"
      height="80"
      fill="currentColor"
      class="bi bi-person-circle mb-3"
      viewBox="0 0 16 16"
    >
      <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
      <path
        fill-rule="evenodd"
        d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"
      />
    </svg>

    <ng-container *ngIf="estaLogueado; else noLogueado">
      <div class="text-center mb-4">
        <p class="text-muted m-0" style="font-size: 0.9rem">{{ rolUsuario }}</p>
        <h5 class="username m-0">{{ nombreUsuario }}</h5>
      </div>

      <div class="d-flex flex-column text-center w-100 gap-3">
        <a href="info-profile" class="offcanvas-link">Ver perfil</a>
        <a href="#" class="offcanvas-link">Historial de test</a>
        <a href="#" class="offcanvas-link">Contacto</a>
      </div>
      <div
        class="logout-btn-container mt-auto pt-4 w-100 d-flex justify-content-center"
      >
        <button class="btn logout-btn w-100" (click)="cerrarSesion()">
          Cerrar sesión
        </button>
      </div>
    </ng-container>

    <ng-template #noLogueado>
      <h5 class="username mb-4">Bienvenido</h5>
      <a class="btn w-100 btn-inicio-nologin" href="/login">Iniciar sesión</a>
    </ng-template>
  </div>
</div>
